config IPIPE_WANT_PREEMPTIBLE_SWITCH
	bool
	default y if XENO_HW_UNLOCKED_SWITCH
	default n if !XENO_HW_UNLOCKED_SWITCH

config IPIPE_WANT_ACTIVE_MM
       def_bool y

config XENO_HW_WANT_TIP
       def_bool y

config XENO_HW_FPU
	def_bool VFP

config XENO_HW_OUTOFLINE_XNLOCK
       bool
       default y

menu "Hardware options"

config XENO_HW_UNLOCKED_SWITCH
	bool "Unlocked context switch"
	default y
	help
	The nucleus may allow non-atomic execution of the
	machine-dependent context switching code, so that other CPUs
	and/or local interrupts may execute concurrently.

	This option reduces interrupt latency when costly cache and
	TLB flushes are required to switch context, and is mandatory
	on SMP/multi-core ARM platforms prior to kernel 3.8.0.

	You definitely want to enable that option on low-end ARM
	platforms.

endmenu

source "kernel/xenomai/Kconfig"
source "drivers/xenomai/Kconfig"
