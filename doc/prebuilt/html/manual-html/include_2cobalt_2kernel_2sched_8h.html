<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Xenomai: include/cobalt/kernel/sched.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Xenomai"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xenomai
   &#160;<span id="projectnumber">2.99.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('include_2cobalt_2kernel_2sched_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sched.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Scheduler interface header.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
Include dependency graph for sched.h:</div>
<div class="dyncontent">
<div class="center"><img src="include_2cobalt_2kernel_2sched_8h__incl.png" border="0" usemap="#include_2cobalt_2kernel_2sched_8h" alt=""/></div>
<map name="include_2cobalt_2kernel_2sched_8h" id="include_2cobalt_2kernel_2sched_8h">
<area shape="rect" id="node3" href="include_2cobalt_2kernel_2thread_8h_source.html" title="cobalt/kernel/thread.h" alt="" coords="856,104,1003,131"/><area shape="rect" id="node11" href="vfile_8h.html" title="This file is part of the Xenomai project. " alt="" coords="205,600,339,627"/><area shape="rect" id="node15" href="assert_8h_source.html" title="cobalt/kernel/assert.h" alt="" coords="615,757,761,784"/><area shape="rect" id="node37" href="schedqueue_8h_source.html" title="cobalt/kernel/schedqueue.h" alt="" coords="304,517,485,544"/><area shape="rect" id="node38" href="sched-tp_8h_source.html" title="cobalt/kernel/sched&#45;tp.h" alt="" coords="1078,104,1239,131"/><area shape="rect" id="node39" href="sched-weak_8h_source.html" title="cobalt/kernel/sched\l&#45;weak.h" alt="" coords="1263,97,1397,138"/><area shape="rect" id="node40" href="sched-sporadic_8h.html" title="Definitions for the SSP scheduling class. " alt="" coords="1422,97,1556,138"/><area shape="rect" id="node41" href="sched-quota_8h_source.html" title="cobalt/kernel/sched\l&#45;quota.h" alt="" coords="1581,97,1715,138"/><area shape="rect" id="node42" href="sched-idle_8h.html" title="Definitions for the IDLE scheduling class. " alt="" coords="1739,97,1873,138"/><area shape="rect" id="node43" href="sched-rt_8h.html" title="Definitions for the RT scheduling class. " alt="" coords="1898,104,2056,131"/><area shape="rect" id="node6" href="cobalt_2kernel_2list_8h_source.html" title="cobalt/kernel/list.h" alt="" coords="725,600,853,627"/><area shape="rect" id="node8" href="stat_8h_source.html" title="cobalt/kernel/stat.h" alt="" coords="928,435,1061,461"/><area shape="rect" id="node16" href="cobalt_2kernel_2trace_8h_source.html" title="cobalt/kernel/trace.h" alt="" coords="1223,832,1363,859"/><area shape="rect" id="node25" href="include_2cobalt_2kernel_2timer_8h.html" title="cobalt/kernel/timer.h" alt="" coords="827,344,967,371"/><area shape="rect" id="node26" href="cobalt_2kernel_2registry_8h.html" title="This file is part of the Xenomai project. " alt="" coords="195,187,349,213"/><area shape="rect" id="node27" href="kernel_2synch_8h_source.html" title="cobalt/kernel/synch.h" alt="" coords="695,261,841,288"/><area shape="rect" id="node29" href="schedparam_8h_source.html" title="cobalt/kernel/schedparam.h" alt="" coords="509,187,691,213"/><area shape="rect" id="node30" href="shadow_8h_source.html" title="cobalt/kernel/shadow.h" alt="" coords="1314,187,1469,213"/><area shape="rect" id="node34" href="include_2cobalt_2uapi_2kernel_2thread_8h_source.html" title="cobalt/uapi/kernel\l/thread.h" alt="" coords="1141,337,1264,378"/><area shape="rect" id="node9" href="include_2cobalt_2kernel_2clock_8h.html" title="cobalt/kernel/clock.h" alt="" coords="878,517,1020,544"/><area shape="rect" id="node24" href="cobalt_2uapi_2kernel_2types_8h_source.html" title="cobalt/uapi/kernel\l/types.h" alt="" coords="1086,593,1209,634"/><area shape="rect" id="node14" href="cobalt_2kernel_2lock_8h_source.html" title="cobalt/kernel/lock.h" alt="" coords="494,683,628,709"/><area shape="rect" id="node20" href="cobalt_2kernel_2ancillaries_8h_source.html" title="cobalt/kernel/ancillaries.h" alt="" coords="618,832,787,859"/><area shape="rect" id="node19" href="cobalt_2uapi_2kernel_2trace_8h_source.html" title="cobalt/uapi/kernel\l/trace.h" alt="" coords="1381,907,1504,949"/><area shape="rect" id="node23" href="cobalt_2uapi_2kernel_2limits_8h_source.html" title="cobalt/uapi/kernel\l/limits.h" alt="" coords="931,907,1055,949"/><area shape="rect" id="node28" href="uapi_2kernel_2synch_8h_source.html" title="cobalt/uapi/kernel\l/synch.h" alt="" coords="1086,427,1209,469"/><area shape="rect" id="node33" href="include_2cobalt_2uapi_2signal_8h_source.html" title="cobalt/uapi/signal.h" alt="" coords="1622,261,1756,288"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="include_2cobalt_2kernel_2sched_8h__dep__incl.png" border="0" usemap="#include_2cobalt_2kernel_2sched_8hdep" alt=""/></div>
<map name="include_2cobalt_2kernel_2sched_8hdep" id="include_2cobalt_2kernel_2sched_8hdep">
<area shape="rect" id="node2" href="driver_8h.html" title="Real&#45;Time Driver Model for Xenomai, driver API header. " alt="" coords="1587,97,1728,138"/><area shape="rect" id="node39" href="bufd_8c.html" title="kernel/cobalt/bufd.c" alt="" coords="2533,104,2669,131"/><area shape="rect" id="node40" href="kernel_2cobalt_2posix_2internal_8h_source.html" title="kernel/cobalt/posix\l/internal.h" alt="" coords="2224,97,2355,138"/><area shape="rect" id="node41" href="kernel_2cobalt_2posix_2sched_8h_source.html" title="kernel/cobalt/posix\l/sched.h" alt="" coords="2379,97,2509,138"/><area shape="rect" id="node49" href="registry_8c.html" title="This file is part of the Xenomai project. " alt="" coords="2693,104,2848,131"/><area shape="rect" id="node50" href="kernel_2cobalt_2timer_8c.html" title="kernel/cobalt/timer.c" alt="" coords="2873,104,3012,131"/><area shape="rect" id="node3" href="include_2cobalt_2kernel_2rtdm_2analogy_2buffer_8h.html" title="Analogy for Linux, buffer related features. " alt="" coords="1149,459,1299,501"/><area shape="rect" id="node19" href="rtdm__interface_8c.html" title="Analogy for Linux, user interface (open, read, write, ioctl, proc) " alt="" coords="2237,738,2387,779"/><area shape="rect" id="node23" href="context_8h.html" title="Analogy for Linux, context structure / macros declarations. " alt="" coords="1123,187,1281,229"/><area shape="rect" id="node26" href="rtdm__helpers_8h.html" title="Analogy for Linux, Operation system facilities. " alt="" coords="1358,369,1548,410"/><area shape="rect" id="node28" href="kernel_2cobalt_2rtdm_2internal_8h_source.html" title="kernel/cobalt/rtdm\l/internal.h" alt="" coords="1791,187,1917,229"/><area shape="rect" id="node31" href="drvlib_8c.html" title="Real&#45;Time Driver Model for Xenomai, driver library. " alt="" coords="1558,278,1684,319"/><area shape="rect" id="node33" href="kernel_2cobalt_2posix_2select_8c.html" title="This file is part of the Xenomai project. " alt="" coords="2121,187,2252,229"/><area shape="rect" id="node34" href="posix_2syscall_8c.html" title="This file is part of the Xenomai project. " alt="" coords="2276,187,2407,229"/><area shape="rect" id="node35" href="rtcan__internal_8h_source.html" title="kernel/drivers/can\l/rtcan_internal.h" alt="" coords="973,187,1099,229"/><area shape="rect" id="node36" href="rtcan__socket_8h_source.html" title="kernel/drivers/can\l/rtcan_socket.h" alt="" coords="1420,187,1545,229"/><area shape="rect" id="node38" href="kernel_2drivers_2ipc_2internal_8h_source.html" title="kernel/drivers/ipc\l/internal.h" alt="" coords="1646,187,1767,229"/><area shape="rect" id="node4" href="analogy_2driver_8h.html" title="Analogy for Linux, driver facilities. " alt="" coords="1175,550,1323,591"/><area shape="rect" id="node22" href="transfer_8h.html" title="Analogy for Linux, transfer related features. " alt="" coords="991,550,1151,591"/><area shape="rect" id="node5" href="device_8h.html" title="Analogy for Linux, device related features. " alt="" coords="1083,641,1237,682"/><area shape="rect" id="node6" href="kernel_2drivers_2analogy_2buffer_8c.html" title="Analogy for Linux, buffer related features. " alt="" coords="1717,738,1867,779"/><area shape="rect" id="node7" href="command_8c.html" title="Analogy for Linux, command related features. " alt="" coords="1891,738,2040,779"/><area shape="rect" id="node8" href="drivers_2analogy_2device_8c.html" title="Analogy for Linux, device related features. " alt="" coords="2064,738,2213,779"/><area shape="rect" id="node9" href="driver_8c.html" title="Analogy for Linux, driver related features. " alt="" coords="5,738,155,779"/><area shape="rect" id="node10" href="driver__facilities_8c.html" title="Analogy for Linux, driver facilities. " alt="" coords="179,738,328,779"/><area shape="rect" id="node11" href="instruction_8c.html" title="Analogy for Linux, instruction related features. " alt="" coords="352,738,501,779"/><area shape="rect" id="node12" href="8255_8c.html" title="Analogy subdevice driver for 8255 chip. " alt="" coords="489,842,639,883"/><area shape="rect" id="node13" href="8255_8h.html" title="Hardware driver for 8255 chip. " alt="" coords="576,738,725,779"/><area shape="rect" id="node14" href="pcimio_8c.html" title="Hardware driver for NI PCI&#45;MIO E series cards. " alt="" coords="688,835,837,891"/><area shape="rect" id="node15" href="parport_8c.html" title="Analogy driver for standard parallel port. " alt="" coords="973,738,1123,779"/><area shape="rect" id="node16" href="mite_8h.html" title="Hardware driver for NI Mite PCI interface chip. " alt="" coords="800,731,949,787"/><area shape="rect" id="node17" href="ni__tio_8h.html" title="Hardware driver for NI general purpose counter. " alt="" coords="1197,731,1347,787"/><area shape="rect" id="node18" href="tio__common_8c.html" title="Hardware driver for NI general purpose counter. " alt="" coords="1141,835,1291,891"/><area shape="rect" id="node20" href="s526_8c.html" title="Analogy driver for Sensoray Model 526 board. " alt="" coords="1371,738,1520,779"/><area shape="rect" id="node21" href="subdevice_8c.html" title="Analogy for Linux, subdevice, channel and range related features. " alt="" coords="1544,738,1693,779"/><area shape="rect" id="node24" href="command_8h_source.html" title="include/cobalt/kernel\l/rtdm/analogy/command.h" alt="" coords="1057,278,1231,319"/><area shape="rect" id="node25" href="subdevice_8h.html" title="Analogy for Linux, subdevice related features. " alt="" coords="1057,369,1231,410"/><area shape="rect" id="node27" href="rtdm__helpers_8c.html" title="Analogy for Linux, RTDM helpers. " alt="" coords="1424,459,1573,501"/><area shape="rect" id="node29" href="core_8c.html" title="Real&#45;Time Driver Model for Xenomai, device operation multiplexing. " alt="" coords="1709,278,1835,319"/><area shape="rect" id="node30" href="cobalt_2rtdm_2device_8c.html" title="Real&#45;Time Driver Model for Xenomai, device management. " alt="" coords="1859,278,1985,319"/><area shape="rect" id="node32" href="kernel_2cobalt_2rtdm_2init_8c.html" title="Real&#45;Time Driver Model for Xenomai. " alt="" coords="2010,278,2136,319"/><area shape="rect" id="node37" href="rtcan__list_8h_source.html" title="kernel/drivers/can\l/rtcan_list.h" alt="" coords="1408,278,1533,319"/><area shape="rect" id="node42" href="include_2copperplate_2init_8h_source.html" title="include/copperplate\l/init.h" alt="" coords="2482,187,2616,229"/><area shape="rect" id="node45" href="lib_2alchemy_2task_8h_source.html" title="lib/alchemy/task.h" alt="" coords="2468,376,2596,403"/><area shape="rect" id="node48" href="lib_2cobalt_2internal_8h_source.html" title="lib/cobalt/internal.h" alt="" coords="2641,195,2772,221"/><area shape="rect" id="node43" href="cluster_8h_source.html" title="include/copperplate\l/cluster.h" alt="" coords="2482,278,2616,319"/><area shape="rect" id="node47" href="copperplate_2registry_8h_source.html" title="include/copperplate\l/registry.h" alt="" coords="2641,278,2775,319"/><area shape="rect" id="node44" href="lib_2alchemy_2mutex_8h_source.html" title="lib/alchemy/mutex.h" alt="" coords="2613,467,2752,493"/><area shape="rect" id="node46" href="include_2alchemy_2mutex_8h_source.html" title="include/alchemy/mutex.h" alt="" coords="2422,467,2588,493"/></map>
</div>
</div>
<p><a href="include_2cobalt_2kernel_2sched_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxnsched.html">xnsched</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduling information structure.  <a href="structxnsched.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab51b1711cd73d890278e3998c817cc3a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2cobalt_2kernel_2sched_8h.html#ab51b1711cd73d890278e3998c817cc3a">xnsched_run</a> (void)</td></tr>
<tr class="memdesc:ab51b1711cd73d890278e3998c817cc3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The rescheduling procedure.  <a href="#ab51b1711cd73d890278e3998c817cc3a">More...</a><br/></td></tr>
<tr class="separator:ab51b1711cd73d890278e3998c817cc3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb702f4a99401c3c1c73811f55e990f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2cobalt_2kernel_2sched_8h.html#a4cb702f4a99401c3c1c73811f55e990f">xnsched_rotate</a> (struct <a class="el" href="structxnsched.html">xnsched</a> *sched, struct xnsched_class *sched_class, const union xnsched_policy_param *sched_param)</td></tr>
<tr class="memdesc:a4cb702f4a99401c3c1c73811f55e990f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotate a scheduler runqueue.  <a href="#a4cb702f4a99401c3c1c73811f55e990f">More...</a><br/></td></tr>
<tr class="separator:a4cb702f4a99401c3c1c73811f55e990f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Scheduler interface header. </p>
<dl class="section author"><dt>Author</dt><dd>Philippe Gerum</dd></dl>
<p>Copyright (C) 2008 Philippe Gerum <a href="#" onclick="location.href='mai'+'lto:'+'rpm'+'@x'+'eno'+'ma'+'i.o'+'rg'; return false;">rpm@x<span style="display: none;">.nosp@m.</span>enom<span style="display: none;">.nosp@m.</span>ai.or<span style="display: none;">.nosp@m.</span>g</a>.</p>
<p>Xenomai is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>
<p>Xenomai is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with Xenomai; if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4cb702f4a99401c3c1c73811f55e990f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void xnsched_rotate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxnsched.html">xnsched</a> *&#160;</td>
          <td class="paramname"><em>sched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct xnsched_class *&#160;</td>
          <td class="paramname"><em>sched_class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union xnsched_policy_param *&#160;</td>
          <td class="paramname"><em>sched_param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rotate a scheduler runqueue. </p>
<p>The specified scheduling class is requested to rotate its runqueue for the given scheduler. Rotation is performed according to the scheduling parameter specified by <em>sched_param</em>.</p>
<dl class="section note"><dt>Note</dt><dd>The nucleus supports round-robin scheduling for the members of the RT class.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sched</td><td>The per-CPU scheduler hosting the target scheduling class.</td></tr>
    <tr><td class="paramname">sched_class</td><td>The scheduling class which should rotate its runqueue.</td></tr>
    <tr><td class="paramname">sched_param</td><td>The scheduling parameter providing rotation information to the specified scheduling class.</td></tr>
  </table>
  </dd>
</dl>
<p>Environments:</p>
<p>This service should be called from:</p>
<ul>
<li>Kernel-based task</li>
<li>Interrupt service routine</li>
<li>User-space task (primary mode only)</li>
</ul>
<p>Rescheduling: never. </p>

</div>
</div>
<a class="anchor" id="ab51b1711cd73d890278e3998c817cc3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int xnsched_run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The rescheduling procedure. </p>
<p>This is the central rescheduling routine which should be called to validate and apply changes which have previously been made to the nucleus scheduling state, such as suspending, resuming or changing the priority of threads. This call performs context switches as needed. <a class="el" href="include_2cobalt_2kernel_2sched_8h.html#ab51b1711cd73d890278e3998c817cc3a" title="The rescheduling procedure. ">xnsched_run()</a> schedules out the current thread if:</p>
<ul>
<li>the current thread is about to block.</li>
<li>a runnable thread from a higher priority scheduling class is waiting for the CPU.</li>
<li>the current thread does not lead the runnable threads from its own scheduling class (i.e. round-robin).</li>
</ul>
<p>The Cobalt core implements a lazy rescheduling scheme so that most of the services affecting the threads state MUST be followed by a call to the rescheduling procedure for the new scheduling state to be applied.</p>
<p>In other words, multiple changes on the scheduler state can be done in a row, waking threads up, blocking others, without being immediately translated into the corresponding context switches. When all changes have been applied, <a class="el" href="include_2cobalt_2kernel_2sched_8h.html#ab51b1711cd73d890278e3998c817cc3a" title="The rescheduling procedure. ">xnsched_run()</a> should be called for considering those changes, and possibly switching context.</p>
<p>As a notable exception to the previous principle however, every action which ends up suspending the current thread begets an implicit call to the rescheduling procedure on behalf of the blocking service.</p>
<p>Typically, self-suspension or sleeping on a synchronization object automatically leads to a call to the rescheduling procedure, therefore the caller does not need to explicitly issue <a class="el" href="include_2cobalt_2kernel_2sched_8h.html#ab51b1711cd73d890278e3998c817cc3a" title="The rescheduling procedure. ">xnsched_run()</a> after such operations.</p>
<p>The rescheduling procedure always leads to a null-effect if it is called on behalf of an interrupt service routine. Any outstanding scheduler lock held by the outgoing thread will be restored when the thread is scheduled back in.</p>
<p>Calling this procedure with no applicable context switch pending is harmless and simply leads to a null-effect.</p>
<dl class="section return"><dt>Returns</dt><dd>Non-zero is returned if a context switch actually happened, otherwise zero if the current thread was left running.</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Tags: none. </dd></dl>

<p>References <a class="el" href="structxnsched.html#afacfa3137dcabf83d2351fa27407164d">xnsched::lflags</a>, and <a class="el" href="structxnsched.html#ad132581bc8d5df9af99f5ab7b1cadd48">xnsched::status</a>.</p>

<p>Referenced by <a class="el" href="group__rtdm__sync__event.html#ga1217402b82034b26fe25c26f1e5b32c9">rtdm_event_signal()</a>, <a class="el" href="group__rtdm__sync__mutex.html#gab40ed579324d8cc76387a0e06dd0f82a">rtdm_mutex_unlock()</a>, <a class="el" href="group__rtdm__sync__sem.html#ga829dbd8c5709d798ed06947b27001fed">rtdm_sem_up()</a>, <a class="el" href="group__core__registry.html#ga28aefd9be7367aa495753142005e1d5a">xnregistry_enter()</a>, <a class="el" href="group__core__select.html#ga8546a4a6f997a8c29451673d5b7f0e86">xnselect_bind()</a>, <a class="el" href="group__core__select.html#ga56e4b5bf3e35dd80c23e95cad8fa1614">xnselect_destroy()</a>, <a class="el" href="group__core__thread.html#gabcf46b2b38ac68322f354adc408c2732">xnthread_cancel()</a>, <a class="el" href="group__core__thread.html#gabedfb90d24b08db04e49b168d290e032">xnthread_start()</a>, and <a class="el" href="group__core__thread.html#gaab49f7e0bb3c3ede3d52a47ee18794bc">xnthread_suspend()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_727d51ab6cd8bd91d7c75c1be5676510.html">cobalt</a></li><li class="navelem"><a class="el" href="dir_cf5678a09d30c4a64d8efd3e7841e31a.html">kernel</a></li><li class="navelem"><a class="el" href="include_2cobalt_2kernel_2sched_8h.html">sched.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
